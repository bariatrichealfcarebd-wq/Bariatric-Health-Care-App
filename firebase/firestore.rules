rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Coleção para armazenar dados dos pacientes.
    // Acesso de escrita e leitura abertos, mas exclusão requer autenticação.
    match /Paciente/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if true;
      allow delete: if request.auth != null;
    }

    // Coleção de nutrientes. Apenas leitura e criação são permitidas.
    match /Nutrientes/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if false;
    }

    // Coleção de sintomas. Apenas leitura e criação são permitidas.
    match /sintomas/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if false;
    }

    // Associa sintomas a outras informações. Exclusão requer autenticação.
    match /ligacao_sintoma/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Dados sobre suplementação. Exclusão requer autenticação.
    match /suplementacao/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Registros diários de suplementação. Exclusão requer autenticação.
    match /Suplementacaodiaria/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Outros tipos de suplementação. Exclusão requer autenticação.
    match /outrasSuplementacao/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Armazena relatórios em PDF. Exclusão requer autenticação.
    match /relatorios_pdf/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Planos alimentares dos pacientes. Exclusão requer autenticação.
    match /Plano_Alimentacao/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Armazena fotos diversas. Exclusão requer autenticação.
    match /photos/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Relatórios gerados a partir de questionários. Exclusão requer autenticação.
    match /relatorios_Questionario/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Relacionamento entre nutricionistas e pacientes. Exclusão requer autenticação.
    match /Nutri_Paciente/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Notificações para os usuários. Exclusão requer autenticação.
    match /notificacoes/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Controle de disponibilidade (ex: agenda). Exclusão requer autenticação.
    match /Disponibilidade/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Eventos agendados. Não permite exclusão ou escrita.
    match /AgendEventos/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if false;
    }

    // Dados para gráficos de sintomas. Exclusão requer autenticação.
    match /graficosSintomas/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }

    // Registros de peso do paciente. Exclusão requer autenticação.
    match /Paciente_Peso/{document} {
      allow create: if true;
      allow read: if true;
      allow write: if false;
      allow delete: if request.auth != null;
    }
  }
}
